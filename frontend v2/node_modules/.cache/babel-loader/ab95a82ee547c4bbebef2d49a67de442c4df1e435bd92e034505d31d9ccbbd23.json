{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tebie\\\\Documents\\\\fantasix-draft\\\\frontend v2\\\\src\\\\components\\\\Draft.js\",\n  _s = $RefreshSig$();\n// src/components/Draft.js\nimport React, { useState, useEffect } from 'react';\nimport TeamCard from \"./ui/TeamCard\";\nimport ParticipantCard from \"./ui/ParticipantCard\";\nimport ConfirmationModal from './ui/ConfirmationModal';\nimport { useFantasy } from '../context/FantasyContext';\nimport Select from 'react-select';\nimport './../styles/draft.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DraftScreen = () => {\n  _s();\n  var _participants$find;\n  const {\n    teams,\n    players,\n    participants,\n    setParticipants\n  } = useFantasy();\n  const [selectedParticipant, setSelectedParticipant] = useState(null);\n  const [confirmationModal, setConfirmationModal] = useState({\n    isOpen: false,\n    player: null,\n    action: null\n  });\n  useEffect(() => {\n    if (participants.length > 0) {\n      setSelectedParticipant(participants[0].id);\n    }\n  }, [participants]);\n  const handlePickConfirmation = (player, action) => {\n    setConfirmationModal({\n      isOpen: true,\n      player,\n      action\n    });\n  };\n  const handleConfirmPick = () => {\n    if (confirmationModal.action === 'pick') {\n      handlePick(confirmationModal.player.id);\n    } else if (confirmationModal.action === 'unpick') {\n      handleUnpick(confirmationModal.player.id);\n    }\n    setConfirmationModal({\n      isOpen: false,\n      player: null,\n      action: null\n    });\n  };\n  const handlePick = playerId => {\n    setParticipants(prev => prev.map(participant => participant.id === selectedParticipant ? {\n      ...participant,\n      picks: [...(participant.picks || []), {\n        playerId,\n        pickOrder: participant.picks.length + 1\n      }]\n    } : participant));\n  };\n  const handleUnpick = playerId => {\n    setParticipants(prev => prev.map(participant => {\n      var _participant$picks;\n      return participant.id === selectedParticipant ? {\n        ...participant,\n        picks: ((_participant$picks = participant.picks) === null || _participant$picks === void 0 ? void 0 : _participant$picks.filter(p => p.playerId !== playerId)) || []\n      } : participant;\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"draft-screen\",\n    children: [confirmationModal.isOpen && /*#__PURE__*/_jsxDEV(ConfirmationModal, {\n      message: `¿Estás seguro de ${confirmationModal.action === 'pick' ? 'seleccionar' : 'eliminar'} el jugador ${confirmationModal.player.name}?`,\n      onConfirm: handleConfirmPick,\n      onCancel: () => setConfirmationModal({\n        isOpen: false,\n        player: null,\n        action: null\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"participants-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"participants-select-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          options: participants.map(participant => ({\n            value: participant.id,\n            label: participant.name\n          })),\n          value: participants.find(p => p.id === selectedParticipant) ? {\n            value: selectedParticipant,\n            label: (_participants$find = participants.find(p => p.id === selectedParticipant)) === null || _participants$find === void 0 ? void 0 : _participants$find.name\n          } : null,\n          onChange: selectedOption => setSelectedParticipant(selectedOption.value),\n          className: \"participant-select\",\n          placeholder: \"Selecciona un participante\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"participants-list\",\n        children: participants.map(participant => /*#__PURE__*/_jsxDEV(ParticipantCard, {\n          participant: participant,\n          players: players.filter(player => {\n            var _participant$picks2;\n            return (_participant$picks2 = participant.picks) === null || _participant$picks2 === void 0 ? void 0 : _participant$picks2.some(p => p.playerId === player.id);\n          }),\n          onRelease: playerId => {\n            var _players$find;\n            return handlePickConfirmation({\n              id: playerId,\n              name: (_players$find = players.find(p => p.id === playerId)) === null || _players$find === void 0 ? void 0 : _players$find.name\n            }, 'unpick');\n          }\n        }, participant.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"teams-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"teams-grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",\n        children: teams.map(team => /*#__PURE__*/_jsxDEV(TeamCard, {\n          team: team,\n          players: players.filter(player => player.team_id === team.id),\n          onPick: player => handlePickConfirmation(player, 'pick'),\n          onUnpick: player => handlePickConfirmation(player, 'unpick')\n        }, team.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(DraftScreen, \"N5I0Ux3gCueq7u3AZGqNvA1m+as=\", false, function () {\n  return [useFantasy];\n});\n_c = DraftScreen;\nexport default DraftScreen;\nvar _c;\n$RefreshReg$(_c, \"DraftScreen\");","map":{"version":3,"names":["React","useState","useEffect","TeamCard","ParticipantCard","ConfirmationModal","useFantasy","Select","jsxDEV","_jsxDEV","DraftScreen","_s","_participants$find","teams","players","participants","setParticipants","selectedParticipant","setSelectedParticipant","confirmationModal","setConfirmationModal","isOpen","player","action","length","id","handlePickConfirmation","handleConfirmPick","handlePick","handleUnpick","playerId","prev","map","participant","picks","pickOrder","_participant$picks","filter","p","className","children","message","name","onConfirm","onCancel","fileName","_jsxFileName","lineNumber","columnNumber","options","value","label","find","onChange","selectedOption","placeholder","_participant$picks2","some","onRelease","_players$find","team","team_id","onPick","onUnpick","_c","$RefreshReg$"],"sources":["C:/Users/tebie/Documents/fantasix-draft/frontend v2/src/components/Draft.js"],"sourcesContent":["// src/components/Draft.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport TeamCard from \"./ui/TeamCard\";\r\nimport ParticipantCard from \"./ui/ParticipantCard\";\r\nimport ConfirmationModal from './ui/ConfirmationModal';\r\nimport { useFantasy } from '../context/FantasyContext';\r\nimport Select from 'react-select';\r\nimport './../styles/draft.scss';\r\n\r\nconst DraftScreen = () => {\r\n  const { teams, players, participants, setParticipants } = useFantasy();\r\n  const [selectedParticipant, setSelectedParticipant] = useState(null);\r\n  const [confirmationModal, setConfirmationModal] = useState({\r\n    isOpen: false,\r\n    player: null,\r\n    action: null,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (participants.length > 0) {\r\n      setSelectedParticipant(participants[0].id);\r\n    }\r\n  }, [participants]);\r\n\r\n  const handlePickConfirmation = (player, action) => {\r\n    setConfirmationModal({ isOpen: true, player, action });\r\n  };\r\n\r\n  const handleConfirmPick = () => {\r\n    if (confirmationModal.action === 'pick') {\r\n      handlePick(confirmationModal.player.id);\r\n    } else if (confirmationModal.action === 'unpick') {\r\n      handleUnpick(confirmationModal.player.id);\r\n    }\r\n    setConfirmationModal({ isOpen: false, player: null, action: null });\r\n  };\r\n\r\n  const handlePick = (playerId) => {\r\n    setParticipants(prev =>\r\n      prev.map(participant =>\r\n        participant.id === selectedParticipant\r\n          ? {\r\n              ...participant,\r\n              picks: [...(participant.picks || []), { playerId, pickOrder: participant.picks.length + 1 }]\r\n            }\r\n          : participant\r\n      )\r\n    );\r\n  };\r\n\r\n  const handleUnpick = (playerId) => {\r\n    setParticipants(prev =>\r\n      prev.map(participant =>\r\n        participant.id === selectedParticipant\r\n          ? {\r\n              ...participant,\r\n              picks: participant.picks?.filter(p => p.playerId !== playerId) || []\r\n            }\r\n          : participant\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"draft-screen\">\r\n      {/* Confirmation Modal */}\r\n      {confirmationModal.isOpen && (\r\n        <ConfirmationModal\r\n          message={`¿Estás seguro de ${confirmationModal.action === 'pick' ? 'seleccionar' : 'eliminar'} el jugador ${confirmationModal.player.name}?`}\r\n          onConfirm={handleConfirmPick}\r\n          onCancel={() => setConfirmationModal({ isOpen: false, player: null, action: null })}\r\n        />\r\n      )}\r\n\r\n      {/* Participants Selection */}\r\n      <div className=\"participants-container\">\r\n        <div className=\"participants-select-wrapper\">\r\n          <Select\r\n            options={participants.map(participant => ({\r\n              value: participant.id,\r\n              label: participant.name\r\n            }))}\r\n            value={\r\n              participants.find(p => p.id === selectedParticipant)\r\n                ? {\r\n                    value: selectedParticipant,\r\n                    label: participants.find(p => p.id === selectedParticipant)?.name\r\n                  }\r\n                : null\r\n            }\r\n            onChange={(selectedOption) => setSelectedParticipant(selectedOption.value)}\r\n            className=\"participant-select\"\r\n            placeholder=\"Selecciona un participante\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"participants-list\">\r\n          {participants.map(participant => (\r\n            <ParticipantCard\r\n              key={participant.id}\r\n              participant={participant}\r\n              players={players.filter(player => participant.picks?.some(p => p.playerId === player.id))}\r\n              onRelease={(playerId) => handlePickConfirmation({ id: playerId, name: players.find(p => p.id === playerId)?.name }, 'unpick')}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Teams and Players Display */}\r\n      <div className=\"teams-container\">\r\n        <div className=\"teams-grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {teams.map(team => (\r\n            <TeamCard\r\n              key={team.id}\r\n              team={team}\r\n              players={players.filter(player => player.team_id === team.id)}\r\n              onPick={(player) => handlePickConfirmation(player, 'pick')}\r\n              onUnpick={(player) => handlePickConfirmation(player, 'unpick')}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DraftScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}