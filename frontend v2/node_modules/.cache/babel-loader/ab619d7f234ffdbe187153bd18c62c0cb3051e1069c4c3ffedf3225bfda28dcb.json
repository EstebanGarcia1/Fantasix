{"ast":null,"code":"const selectPlayer = async player => {\n  if (player.selected || !selectedParticipant) return;\n  try {\n    const participant = participants.find(p => p.id === selectedParticipant);\n    if (!participant) {\n      alert('No participant selected');\n      return;\n    }\n    if (participant.picks.length >= 5) {\n      alert('El participante ya tiene 5 jugadores seleccionados');\n      return;\n    }\n    const newPickOrder = participant.picks.length + 1;\n    console.log(`Attempting to pick player ${player.id} for participant ${selectedParticipant} with order ${newPickOrder}`);\n    const response = await api.pickPlayer(selectedParticipant, player.id, newPickOrder);\n    console.log('Response from server:', response);\n\n    // Actualiza el estado en el frontend\n    const updatedPlayers = players.map(p => p.id === player.id ? {\n      ...p,\n      selected: true,\n      selectedBy: selectedParticipant\n    } : p);\n    const updatedParticipants = participants.map(p => p.id === selectedParticipant ? {\n      ...p,\n      picks: [...p.picks, {\n        playerId: player.id,\n        pickOrder: newPickOrder\n      }]\n    } : p);\n    setPlayers(updatedPlayers);\n    setParticipants(updatedParticipants);\n  } catch (error) {\n    console.error(\"Error selecting player:\", error);\n    alert(\"Error selecting player. Please try again or check the server logs.\");\n  }\n};","map":{"version":3,"names":["selectPlayer","player","selected","selectedParticipant","participant","participants","find","p","id","alert","picks","length","newPickOrder","console","log","response","api","pickPlayer","updatedPlayers","players","map","selectedBy","updatedParticipants","playerId","pickOrder","setPlayers","setParticipants","error"],"sources":["C:/Users/tebie/Documents/fantasix-draft/frontend v2/src/components/Draft.js"],"sourcesContent":["const selectPlayer = async (player) => {\r\n  if (player.selected || !selectedParticipant) return;\r\n\r\n  try {\r\n    const participant = participants.find(p => p.id === selectedParticipant);\r\n    if (!participant) {\r\n      alert('No participant selected');\r\n      return;\r\n    }\r\n\r\n    if (participant.picks.length >= 5) {\r\n      alert('El participante ya tiene 5 jugadores seleccionados');\r\n      return;\r\n    }\r\n\r\n    const newPickOrder = participant.picks.length + 1;\r\n\r\n    console.log(`Attempting to pick player ${player.id} for participant ${selectedParticipant} with order ${newPickOrder}`);\r\n\r\n    const response = await api.pickPlayer(selectedParticipant, player.id, newPickOrder);\r\n    console.log('Response from server:', response);\r\n\r\n    // Actualiza el estado en el frontend\r\n    const updatedPlayers = players.map(p => p.id === player.id ? { ...p, selected: true, selectedBy: selectedParticipant } : p);\r\n    const updatedParticipants = participants.map(p => p.id === selectedParticipant ? { ...p, picks: [...p.picks, { playerId: player.id, pickOrder: newPickOrder }] } : p);\r\n\r\n    setPlayers(updatedPlayers);\r\n    setParticipants(updatedParticipants);\r\n  } catch (error) {\r\n    console.error(\"Error selecting player:\", error);\r\n    alert(\"Error selecting player. Please try again or check the server logs.\");\r\n  }\r\n};\r\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG,MAAOC,MAAM,IAAK;EACrC,IAAIA,MAAM,CAACC,QAAQ,IAAI,CAACC,mBAAmB,EAAE;EAE7C,IAAI;IACF,MAAMC,WAAW,GAAGC,YAAY,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKL,mBAAmB,CAAC;IACxE,IAAI,CAACC,WAAW,EAAE;MAChBK,KAAK,CAAC,yBAAyB,CAAC;MAChC;IACF;IAEA,IAAIL,WAAW,CAACM,KAAK,CAACC,MAAM,IAAI,CAAC,EAAE;MACjCF,KAAK,CAAC,oDAAoD,CAAC;MAC3D;IACF;IAEA,MAAMG,YAAY,GAAGR,WAAW,CAACM,KAAK,CAACC,MAAM,GAAG,CAAC;IAEjDE,OAAO,CAACC,GAAG,CAAC,6BAA6Bb,MAAM,CAACO,EAAE,oBAAoBL,mBAAmB,eAAeS,YAAY,EAAE,CAAC;IAEvH,MAAMG,QAAQ,GAAG,MAAMC,GAAG,CAACC,UAAU,CAACd,mBAAmB,EAAEF,MAAM,CAACO,EAAE,EAAEI,YAAY,CAAC;IACnFC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEC,QAAQ,CAAC;;IAE9C;IACA,MAAMG,cAAc,GAAGC,OAAO,CAACC,GAAG,CAACb,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKP,MAAM,CAACO,EAAE,GAAG;MAAE,GAAGD,CAAC;MAAEL,QAAQ,EAAE,IAAI;MAAEmB,UAAU,EAAElB;IAAoB,CAAC,GAAGI,CAAC,CAAC;IAC3H,MAAMe,mBAAmB,GAAGjB,YAAY,CAACe,GAAG,CAACb,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKL,mBAAmB,GAAG;MAAE,GAAGI,CAAC;MAAEG,KAAK,EAAE,CAAC,GAAGH,CAAC,CAACG,KAAK,EAAE;QAAEa,QAAQ,EAAEtB,MAAM,CAACO,EAAE;QAAEgB,SAAS,EAAEZ;MAAa,CAAC;IAAE,CAAC,GAAGL,CAAC,CAAC;IAErKkB,UAAU,CAACP,cAAc,CAAC;IAC1BQ,eAAe,CAACJ,mBAAmB,CAAC;EACtC,CAAC,CAAC,OAAOK,KAAK,EAAE;IACdd,OAAO,CAACc,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IAC/ClB,KAAK,CAAC,oEAAoE,CAAC;EAC7E;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}