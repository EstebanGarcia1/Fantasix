{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tebie\\\\Documents\\\\fantasix-draft\\\\frontend v2\\\\src\\\\components\\\\Draft.js\",\n  _s = $RefreshSig$();\n// src/components/Draft.js\nimport React, { useState, useEffect } from 'react';\nimport TeamCard from \"./ui/TeamCard\";\nimport ParticipantCard from \"./ui/ParticipantCard\";\nimport ConfirmationModal from './ui/ConfirmationModal';\nimport { useFantasy } from '../context/FantasyContext';\nimport Select from 'react-select';\nimport './../styles/draft.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DraftScreen = () => {\n  _s();\n  var _confirmationModal$pl, _participants$find;\n  const {\n    teams,\n    players,\n    participants,\n    setParticipants\n  } = useFantasy();\n  const [selectedParticipant, setSelectedParticipant] = useState(null);\n  const [confirmationModal, setConfirmationModal] = useState({\n    isOpen: false,\n    player: null,\n    action: null\n  });\n  useEffect(() => {\n    // Set default participant if participants exist\n    if (participants.length > 0) {\n      setSelectedParticipant(participants[0].id);\n    }\n  }, [participants]);\n  const handlePickConfirmation = (player, action) => {\n    setConfirmationModal({\n      isOpen: true,\n      player,\n      action\n    });\n  };\n  const handleConfirmPick = () => {\n    if (confirmationModal.action === 'pick') {\n      handlePick(confirmationModal.player.id);\n    } else if (confirmationModal.action === 'unpick') {\n      handleUnpick(confirmationModal.player.id);\n    }\n    // Close the confirmation modal after processing the action\n    setConfirmationModal({\n      isOpen: false,\n      player: null,\n      action: null\n    });\n  };\n  const handlePick = playerId => {\n    if (!selectedParticipant) {\n      console.error(\"No participant selected\");\n      return;\n    }\n    setParticipants(prev => prev.map(participant => {\n      var _participant$picks;\n      return participant.id === selectedParticipant ? {\n        ...participant,\n        picks: [...(participant.picks || []), {\n          playerId,\n          pickOrder: (((_participant$picks = participant.picks) === null || _participant$picks === void 0 ? void 0 : _participant$picks.length) || 0) + 1\n        }]\n      } : participant;\n    }));\n  };\n  const handleUnpick = playerId => {\n    if (!selectedParticipant) {\n      console.error(\"No participant selected\");\n      return;\n    }\n    setParticipants(prev => prev.map(participant => participant.id === selectedParticipant ? {\n      ...participant,\n      picks: (participant.picks || []).filter(p => p.playerId !== playerId)\n    } : participant));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"draft-screen\",\n    children: [confirmationModal.isOpen && /*#__PURE__*/_jsxDEV(ConfirmationModal, {\n      message: `¿Estás seguro de ${confirmationModal.action === 'pick' ? 'seleccionar' : 'eliminar'} el jugador ${(_confirmationModal$pl = confirmationModal.player) === null || _confirmationModal$pl === void 0 ? void 0 : _confirmationModal$pl.name}?`,\n      onConfirm: handleConfirmPick,\n      onCancel: () => setConfirmationModal({\n        isOpen: false,\n        player: null,\n        action: null\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"participants-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"participants-select-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          options: participants.map(participant => ({\n            value: participant.id,\n            label: participant.name\n          })),\n          value: participants.find(p => p.id === selectedParticipant) ? {\n            value: selectedParticipant,\n            label: (_participants$find = participants.find(p => p.id === selectedParticipant)) === null || _participants$find === void 0 ? void 0 : _participants$find.name\n          } : null,\n          onChange: selectedOption => setSelectedParticipant(selectedOption.value),\n          className: \"participant-select\",\n          placeholder: \"Selecciona un participante\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"participants-list\",\n        children: participants.map(participant => /*#__PURE__*/_jsxDEV(ParticipantCard, {\n          participant: participant,\n          players: players.filter(player => {\n            var _participant$picks2;\n            return (_participant$picks2 = participant.picks) === null || _participant$picks2 === void 0 ? void 0 : _participant$picks2.some(p => p.playerId === player.id);\n          }),\n          onUnpick: playerId => {\n            var _players$find;\n            return handlePickConfirmation({\n              id: playerId,\n              name: (_players$find = players.find(p => p.id === playerId)) === null || _players$find === void 0 ? void 0 : _players$find.name\n            }, 'unpick');\n          }\n        }, participant.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"teams-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"teams-grid grid-cols-1 md:grid-cols-1 lg:grid-cols-2 gap-4\",\n        children: teams.map(team => /*#__PURE__*/_jsxDEV(TeamCard, {\n          team: team,\n          players: players.filter(player => player.team_id === team.id),\n          onPick: player => handlePickConfirmation(player, 'pick')\n        }, team.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n_s(DraftScreen, \"N5I0Ux3gCueq7u3AZGqNvA1m+as=\", false, function () {\n  return [useFantasy];\n});\n_c = DraftScreen;\nexport default DraftScreen;\nvar _c;\n$RefreshReg$(_c, \"DraftScreen\");","map":{"version":3,"names":["React","useState","useEffect","TeamCard","ParticipantCard","ConfirmationModal","useFantasy","Select","jsxDEV","_jsxDEV","DraftScreen","_s","_confirmationModal$pl","_participants$find","teams","players","participants","setParticipants","selectedParticipant","setSelectedParticipant","confirmationModal","setConfirmationModal","isOpen","player","action","length","id","handlePickConfirmation","handleConfirmPick","handlePick","handleUnpick","playerId","console","error","prev","map","participant","_participant$picks","picks","pickOrder","filter","p","className","children","message","name","onConfirm","onCancel","fileName","_jsxFileName","lineNumber","columnNumber","options","value","label","find","onChange","selectedOption","placeholder","_participant$picks2","some","onUnpick","_players$find","team","team_id","onPick","_c","$RefreshReg$"],"sources":["C:/Users/tebie/Documents/fantasix-draft/frontend v2/src/components/Draft.js"],"sourcesContent":["// src/components/Draft.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport TeamCard from \"./ui/TeamCard\";\r\nimport ParticipantCard from \"./ui/ParticipantCard\";\r\nimport ConfirmationModal from './ui/ConfirmationModal';\r\nimport { useFantasy } from '../context/FantasyContext';\r\nimport Select from 'react-select';\r\nimport './../styles/draft.scss';\r\n\r\nconst DraftScreen = () => {\r\n  const { teams, players, participants, setParticipants } = useFantasy();\r\n  const [selectedParticipant, setSelectedParticipant] = useState(null);\r\n  const [confirmationModal, setConfirmationModal] = useState({\r\n    isOpen: false,\r\n    player: null,\r\n    action: null,\r\n  });\r\n\r\n  useEffect(() => {\r\n    // Set default participant if participants exist\r\n    if (participants.length > 0) {\r\n      setSelectedParticipant(participants[0].id);\r\n    }\r\n  }, [participants]);\r\n\r\n  const handlePickConfirmation = (player, action) => {\r\n    setConfirmationModal({ isOpen: true, player, action });\r\n  };\r\n\r\n  const handleConfirmPick = () => {\r\n    if (confirmationModal.action === 'pick') {\r\n      handlePick(confirmationModal.player.id);\r\n    } else if (confirmationModal.action === 'unpick') {\r\n      handleUnpick(confirmationModal.player.id);\r\n    }\r\n    // Close the confirmation modal after processing the action\r\n    setConfirmationModal({ isOpen: false, player: null, action: null });\r\n  };\r\n\r\n  const handlePick = (playerId) => {\r\n    if (!selectedParticipant) {\r\n      console.error(\"No participant selected\");\r\n      return;\r\n    }\r\n\r\n    setParticipants(prev =>\r\n      prev.map(participant =>\r\n        participant.id === selectedParticipant\r\n          ? {\r\n              ...participant,\r\n              picks: [...(participant.picks || []), { playerId, pickOrder: (participant.picks?.length || 0) + 1 }]\r\n            }\r\n          : participant\r\n      )\r\n    );\r\n  };\r\n\r\n  const handleUnpick = (playerId) => {\r\n    if (!selectedParticipant) {\r\n      console.error(\"No participant selected\");\r\n      return;\r\n    }\r\n\r\n    setParticipants(prev =>\r\n      prev.map(participant =>\r\n        participant.id === selectedParticipant\r\n          ? {\r\n              ...participant,\r\n              picks: (participant.picks || []).filter(p => p.playerId !== playerId)\r\n            }\r\n          : participant\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"draft-screen\">\r\n      {/* Confirmation Modal */}\r\n      {confirmationModal.isOpen && (\r\n        <ConfirmationModal\r\n          message={`¿Estás seguro de ${confirmationModal.action === 'pick' ? 'seleccionar' : 'eliminar'} el jugador ${confirmationModal.player?.name}?`}\r\n          onConfirm={handleConfirmPick}\r\n          onCancel={() => setConfirmationModal({ isOpen: false, player: null, action: null })}\r\n        />\r\n      )}\r\n\r\n      {/* Participants Selection */}\r\n      <div className=\"participants-container\">\r\n        <div className=\"participants-select-wrapper\">\r\n          <Select\r\n            options={participants.map(participant => ({\r\n              value: participant.id,\r\n              label: participant.name\r\n            }))}\r\n            value={\r\n              participants.find(p => p.id === selectedParticipant)\r\n                ? {\r\n                    value: selectedParticipant,\r\n                    label: participants.find(p => p.id === selectedParticipant)?.name\r\n                  }\r\n                : null\r\n            }\r\n            onChange={(selectedOption) => setSelectedParticipant(selectedOption.value)}\r\n            className=\"participant-select\"\r\n            placeholder=\"Selecciona un participante\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"participants-list\">\r\n          {participants.map(participant => (\r\n            <ParticipantCard\r\n              key={participant.id}\r\n              participant={participant}\r\n              players={players.filter(player => participant.picks?.some(p => p.playerId === player.id))}\r\n              onUnpick={(playerId) => handlePickConfirmation({ id: playerId, name: players.find(p => p.id === playerId)?.name }, 'unpick')}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Teams and Players Display */}\r\n      <div className=\"teams-container\">\r\n        <div className=\"teams-grid grid-cols-1 md:grid-cols-1 lg:grid-cols-2 gap-4\">\r\n          {teams.map(team => (\r\n            <TeamCard\r\n              key={team.id}\r\n              team={team}\r\n              players={players.filter(player => player.team_id === team.id)}\r\n              onPick={(player) => handlePickConfirmation(player, 'pick')}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DraftScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}